---
import { getEntry } from "astro:content";
import { Icon } from "astro-icon/components";

import Modal from "~/components/modal.astro";
import IconButton from "~/components/icon-button.astro";

const entry = await getEntry("links", "nav");
---

<div
  class="sticky inset-x-0 bottom-0 z-20 flex h-24 items-center justify-between border-t-2 border-neutral-800 bg-neutral-900 px-8"
>
  <div class="flex items-center gap-8">
    <Modal>
      <IconButton slot="trigger" label="Open Navigation">
        <Icon name="menu" class="h-5 w-5 text-white" />
      </IconButton>
      <div slot="menu" class="absolute inset-0 md:p-12">
        <div class="mx-auto flex size-full max-w-3xl flex-col items-start justify-center p-4">
          <div class="flex size-full items-center justify-center rounded bg-neutral-950/80 backdrop-blur-lg">
            <div class="flex flex-col gap-8">
              {
                entry?.data.items.map((link) => (
                  <a
                    href={link.url}
                    class="relative after:absolute after:-inset-2 after:-z-10 after:rounded-sm after:bg-transparent after:transition-all target:after:bg-white/5 hover:after:-inset-4 hover:after:bg-white/5"
                  >
                    <p class="font-semibold text-white">{link.label}</p>
                    <p class="text-neutral-400">{link.blurb}</p>
                  </a>
                ))
              }
            </div>
          </div>
        </div>
      </div>
    </Modal>
    <div class="flex flex-col">
      <p class="font-semibold">Jordan Accinelli</p>
      <p class="text-neutral-400">Website Enthusiast</p>
    </div>
  </div>
</div>
